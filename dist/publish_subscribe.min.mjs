/*lodash.clonedeep@4.5.0*/
var t="[object Arguments]",e="[object Function]",r="[object GeneratorFunction]",o="[object Map]",n="[object Set]",a=/^\[object .+?Constructor\]$/,c={};c[t]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object DataView]"]=c["[object Boolean]"]=c["[object Date]"]=c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c[o]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c[n]=c["[object String]"]=c["[object Symbol]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Error]"]=c[e]=c["[object WeakMap]"]=!1;var i="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,_=i||u||Function("return this")(),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,p=s&&"object"==typeof module&&module&&!module.nodeType&&module,l=p&&p.exports===s;function f(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function b(t,e){return function(r){return t(e(r))}}var h,y=Array.prototype,j=Function.prototype,d=Object.prototype,v=_["__core-js_shared__"],g=(h=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",O=j.toString,m=d.hasOwnProperty,w=d.toString,A=RegExp("^"+O.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=l?_.Buffer:void 0,x=_.Symbol,P=(_.Uint8Array,b(Object.getPrototypeOf,Object),Object.create,d.propertyIsEnumerable,y.splice),k=Object.getOwnPropertySymbols,F=(S&&S.isBuffer,b(Object.keys,Object),K(_,"DataView")),M=K(_,"Map"),$=K(_,"Promise"),B=K(_,"Set"),D=K(_,"WeakMap"),E=K(Object,"create"),I=Q(F),U=Q(M),V=Q($),W=Q(B),R=Q(D),T=x?x.prototype:void 0;T&&T.valueOf;function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function G(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function N(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function q(t){this.__data__=new G(t)}function z(t,e){for(var r=t.length;r--;)if(X(t[r][0],e))return r;return-1}function H(t){return!(!Z(t)||(e=t,g&&g in e))&&(Y(t)||f(t)?A:a).test(Q(t));var e}function J(t,e){var r,o,n=t.__data__;return("string"==(o=typeof(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function K(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return H(r)?r:void 0}C.prototype.clear=function(){this.__data__=E?E(null):{}},C.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},C.prototype.get=function(t){var e=this.__data__;if(E){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return m.call(e,t)?e[t]:void 0},C.prototype.has=function(t){var e=this.__data__;return E?void 0!==e[t]:m.call(e,t)},C.prototype.set=function(t,e){return this.__data__[t]=E&&void 0===e?"__lodash_hash_undefined__":e,this},G.prototype.clear=function(){this.__data__=[]},G.prototype.delete=function(t){var e=this.__data__,r=z(e,t);return!(r<0)&&(r==e.length-1?e.pop():P.call(e,r,1),!0)},G.prototype.get=function(t){var e=this.__data__,r=z(e,t);return r<0?void 0:e[r][1]},G.prototype.has=function(t){return z(this.__data__,t)>-1},G.prototype.set=function(t,e){var r=this.__data__,o=z(r,t);return o<0?r.push([t,e]):r[o][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new C,map:new(M||G),string:new C}},N.prototype.delete=function(t){return J(this,t).delete(t)},N.prototype.get=function(t){return J(this,t).get(t)},N.prototype.has=function(t){return J(this,t).has(t)},N.prototype.set=function(t,e){return J(this,t).set(t,e),this},q.prototype.clear=function(){this.__data__=new G},q.prototype.delete=function(t){return this.__data__.delete(t)},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var r=this.__data__;if(r instanceof G){var o=r.__data__;if(!M||o.length<199)return o.push([t,e]),this;r=this.__data__=new N(o)}return r.set(t,e),this};k&&b(k,Object);var L=function(t){return w.call(t)};function Q(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function X(t,e){return t===e||t!=t&&e!=e}(F&&"[object DataView]"!=L(new F(new ArrayBuffer(1)))||M&&L(new M)!=o||$&&"[object Promise]"!=L($.resolve())||B&&L(new B)!=n||D&&"[object WeakMap]"!=L(new D))&&(L=function(t){var e=w.call(t),r="[object Object]"==e?t.constructor:void 0,a=r?Q(r):void 0;if(a)switch(a){case I:return"[object DataView]";case U:return o;case V:return"[object Promise]";case W:return n;case R:return"[object WeakMap]"}return e});Array.isArray;function Y(t){var o=Z(t)?w.call(t):"";return o==e||o==r}function Z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}
/*@r37r0m0d3l/publish_subscribe@1.0.7*/
const s=()=>{},e="[object AsyncFunction]",t="[object Function]";function i(n,s){if(n)switch(h(n)){case e:n(...s).then(()=>{}).catch(()=>{});break;case t:try{n(...s)}catch(n){}}}function l(s){return function(n){return Object(n)!==n}(s)?s:n(s)}function h(n){return Object.prototype.toString.call(n)}function a(n){return 0===function(n){return r(n).length}(n)}function c(n,s){return Object.is(n,s)}function o(){return Object.create(null)}function r(n){return Object.keys(n)}class _{callback;channel;once;token;constructor(n,s,e=!1){this.callback=s,this.channel=n,this.once=e,this.token=function(){const n=new Array(16);for(let s=0;s<16;s+=1)n[s]="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[Math.floor(62*Math.random())];return n.join("")}()}}class u{__channels=new Set;__createChannel;__createSubscription;__hasLogging;__isValidCallback;__isValidChannel;__isValidToken;__logging;__onPublish;__subscriptions=new Map;constructor(){this.__isValidCallback=function(n){return!!n&&[e,t].includes(h(n))}.bind(this),this.__isValidChannel=function(n){return"string"==typeof n||"symbol"==typeof n||"number"==typeof n&&Number.isFinite(n)}.bind(this),this.__isValidToken=function(n){return"string"==typeof n&&16===n.length}.bind(this),this.__createChannel=function(n){this.hasChannel(n)||(this.__channels.add(n),this.__subscriptions.set(n,o()))}.bind(this),this.__createSubscription=function(n,s,e){const t=new _(n,s,e);return this.__subscriptions.get(n)[t.token]=t,t.token}.bind(this),this.disableLogging(),this.dropAll(),this.onPublish()}disableLogging(){this.__logging=s,this.__hasLogging=!1}dropAll(){this.__logging("dropAll"),this.__channels.clear(),this.__subscriptions.clear()}dropChannel(n){this.__logging("dropChannel",{channel:n}),this.hasChannel(n)&&(this.__channels.delete(n),this.__subscriptions.set(n,o()))}getCallback(n){if(!this.__isValidToken(n))return;let s=void 0;return Array.from(this.__subscriptions.values()).some(e=>n in e&&(s=e[n].callback,!0)),s}getChannels(){return Array.from(this.__channels).filter(n=>"symbol"!=typeof n).sort((n,s)=>n.localeCompare(s))}hasChannel(n){return this.__channels.has(n)}hasSubscription(n){return!!this.hasChannel(n)&&(!!this.__subscriptions.has(n)&&!a(this.__subscriptions.get(n)))}onPublish(n){void 0!==n?this.__isValidCallback(n)&&(this.__onPublish=(s,e)=>{i(n,[s,e])}):this.__onPublish=s}publish(n,s,i=!0){let a;if(a=i?()=>l(s):()=>s,this.__logging("publish",{channel:n,data:a()}),this.__onPublish(n,a()),!this.hasChannel(n))return;const c=[],o=this.__subscriptions.get(n);r(o).forEach(s=>{const i=o[s],r=i.callback;switch(h(r)){case e:c.push(new Promise(e=>{let t;this.__hasLogging&&this.__logging("publish -> send",{channel:n,data:a(),token:s}),r(a(),n,s).then(h=>{t={channel:n,result:h,token:s},e(t),this.__hasLogging&&this.__logging("publish -> receive",{channel:n,result:l(h),token:s}),i.once&&delete o[s]}).catch(l=>{t={channel:n,result:l,token:s},e(t),this.__hasLogging&&this.__logging("publish -> receive",{channel:n,result:l,token:s}),i.once&&delete o[s]})}));break;case t:c.push(new Promise(e=>{let t;this.__hasLogging&&this.__logging("publish -> send",{channel:n,data:a(),token:s});try{t=r(a(),n,s)}catch(n){t=n}e({channel:n,result:t,token:s}),this.__hasLogging&&this.__logging("publish -> receive",{channel:n,result:l(t),token:s}),i.once&&delete o[s]}))}}),Promise.all(c).then(()=>{})}publishAsync(n,s,i=!0,a=!0){let c;if(c=a?()=>l(s):()=>s,this.__hasLogging&&this.__logging("publishAsync",{channel:n,data:c()}),this.__onPublish(n,c()),!this.hasChannel(n))return Promise.all([]);const o=[],_=this.__subscriptions.get(n);return r(_).forEach(s=>{const i=_[s],a=i.callback;switch(h(a)){case e:o.push(new Promise(e=>{let t;this.__hasLogging&&this.__logging("publishAsync -> send",{channel:n,data:c(),token:s}),a(c(),n,s).then(h=>{t={channel:n,result:h,token:s},e(t),this.__hasLogging&&this.__logging("publishAsync -> receive",{channel:n,result:l(h),token:s}),i.once&&delete _[s]}).catch(l=>{t={channel:n,result:l,token:s},e(t),this.__hasLogging&&this.__logging("publishAsync -> receive",{channel:n,result:l,token:s}),i.once&&delete _[s]})}));break;case t:o.push(new Promise(e=>{let t;this.__hasLogging&&this.__logging("publishAsync -> send",{channel:n,data:c(),token:s});try{t=a(c(),n,s)}catch(n){t=n}e({channel:n,result:t,token:s}),this.__hasLogging&&this.__logging("publishAsync -> receive",{channel:n,result:l(t),token:s}),i.once&&delete _[s]}))}}),i?Promise.all(o).then(n=>n.map(n=>n.result)):Promise.all(o)}publishSync(n,s,e=!0,a=!0,c){let o,_;if(o=a?()=>l(s):()=>s,this.__hasLogging&&this.__logging("publishSync",{channel:n,data:o()}),this.__onPublish(n,o()),_=c&&this.__isValidCallback(c)?n=>i(c,[n]):()=>{},!this.hasChannel(n))return _([]),[];const u=this.__subscriptions.get(n);let g=[];return r(u).forEach(s=>{const e=u[s],i=e.callback;if(h(i)!==t)return;let a;this.__hasLogging&&this.__logging("publishSync -> send",{channel:n,data:o(),token:s});try{a=i(o(),n,s)}catch(n){a=n}g.push({channel:n,result:a,token:s}),this.__hasLogging&&this.__logging("publishSync -> receive",{channel:n,result:l(a),token:s}),e.once&&delete u[s]}),e&&(g=g.map(n=>n.result)),_(g),g}setLogging(n){if(this.__isValidCallback(n))switch(h(n)){case e:this.__logging=(s,e)=>{n({...e,method:s}).then(()=>{}).catch(()=>{})},this.__hasLogging=!0;break;case t:this.__logging=(s,e)=>{try{n({...e,method:s})}catch(n){}},this.__hasLogging=!0}}subscribe(n,s,e=!1){return this.__logging("subscribe",{channel:n,callback:s,once:e}),this.__isValidChannel(n)?this.__isValidCallback(s)?(this.__createChannel(n),this.__createSubscription(n,s,e)):new TypeError("Callback should be a function."):new TypeError("Channel name should be String, Symbol, Number.")}subscribeOnce(n,s){return this.__logging("subscribeOnce",{channel:n,callback:s}),this.__isValidChannel(n)?this.__isValidCallback(s)?(this.__createChannel(n),this.__createSubscription(n,s)):new TypeError("Callback should be a function."):new TypeError("Channel name should be String, Symbol, Number.")}unsubscribe(n,s){return void 0!==s?this.unsubscribeByChannelAndCallback(n,s):this.__isValidCallback(n)?this.unsubscribeByCallback(n):this.__isValidToken(n)?this.unsubscribeByToken(n):0}unsubscribeByCallback(n){if(this.__logging("unsubscribeByCallback",{callback:n}),!this.__isValidCallback(n))return 0;let s=0;return this.__subscriptions.forEach(e=>{r(e).forEach(t=>{c(e[t].callback,n)&&(delete e[t],s+=1)})}),s}unsubscribeByChannelAndCallback(n,s){if(this.__logging("unsubscribeByChannelAndCallback",{callback:s}),!this.hasSubscription(n))return 0;const e=this.__subscriptions.get(n);let t=0;return r(e).forEach(n=>{c(e[n].callback,s)&&(delete e[n],t+=1)}),t}unsubscribeByToken(n){if(this.__logging("unsubscribeByToken",{token:n}),!this.__isValidToken(n))return 0;let s=0;return this.__subscriptions.forEach(e=>{n in e&&(delete e[n],s+=1)}),s}}export default u;export{u as PublishSubscribe};